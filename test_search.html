<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¤œç´¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</title>
</head>
<body>
    <h1>æ¤œç´¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h1>
    <div id="test-results"></div>
    
    <script>
        // æ¤œç´¢æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
        async function testSearchFunction() {
            const testResults = document.getElementById('test-results');
            
            try {
                // CSVãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
                const response = await fetch('Seed_AI_FAQ_public_FINAL.csv');
                const csvText = await response.text();
                
                // ç°¡å˜ãªCSVãƒ‘ãƒ¼ã‚¹
                const lines = csvText.trim().split('\n');
                const faqData = [];
                
                for (let i = 1; i < lines.length; i++) {
                    const columns = lines[i].split(',');
                    if (columns.length >= 5) {
                        faqData.push({
                            category: columns[0],
                            level: columns[1], 
                            question: columns[2],
                            answer: columns[3],
                            tags: columns[4].split('#').filter(t => t.trim())
                        });
                    }
                }
                
                testResults.innerHTML += `<p>âœ… CSVèª­ã¿è¾¼ã¿æˆåŠŸ: ${faqData.length}é …ç›®</p>`;
                
                // æ¤œç´¢ãƒ†ã‚¹ãƒˆ
                const searchTests = [
                    'ChatGPT',
                    'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ', 
                    'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£',
                    'AIæ´»ç”¨',
                    'ç”ŸæˆAI'
                ];
                
                searchTests.forEach(searchTerm => {
                    const results = faqData.filter(faq => {
                        const searchableText = [
                            faq.question,
                            faq.answer,
                            faq.category,
                            ...faq.tags
                        ].join(' ').toLowerCase();
                        
                        return searchableText.includes(searchTerm.toLowerCase());
                    });
                    
                    testResults.innerHTML += `<p>ğŸ” "${searchTerm}": ${results.length}ä»¶ã®çµæœ</p>`;
                    
                    // æœ€åˆã®çµæœã‚’è¡¨ç¤º
                    if (results.length > 0) {
                        testResults.innerHTML += `<p style="margin-left: 20px; font-size: 0.9em; color: #666;">ä¾‹: ${results[0].question.substring(0, 80)}...</p>`;
                    }
                });
                
            } catch (error) {
                testResults.innerHTML += `<p>âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}</p>`;
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        window.addEventListener('load', testSearchFunction);
    </script>
</body>
</html>