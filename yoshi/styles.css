:root {
  color-scheme: light;
  --bg-gradient: linear-gradient(135deg, #ffe1f0, #d5f3ff 40%, #fff7c4 80%);
  --card-bg: rgba(255, 255, 255, 0.9);
  --card-border: rgba(255, 255, 255, 0.7);
  --accent: #ff7ba5;
  --accent-strong: #ff4f8a;
  --accent-soft: #ffe3f0;
  --text-main: #243143;
  --text-sub: #5b6a81;
  --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.12);
  --radius-card: 18px;
  --radius-pill: 999px;
  --danger: #f36b7f;

  /* iPhoneè¦‹ã‚„ã™ã•ã‚¹ã‚±ãƒ¼ãƒ« */
  --ui-scale: 1.12;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  min-height: 100vh;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
  color: var(--text-main);

  /* æ—¢å®šã¯å¤‰æ•°ã‚°ãƒ©ãƒ‡ï¼‹ã‚†ã‚‰ã */
  background: var(--bg-gradient);
  background-size: 300% 300%;
  animation: gradientMove 18s ease infinite;

  font-size: calc(16px * var(--ui-scale));
  -webkit-font-smoothing: antialiased;
}

/* æ—¢å®šã®èƒŒæ™¯ã‚†ã‚‰ãï¼ˆmorning/eveningãªã©ã§ä½¿ã†ï¼‰ */
@keyframes gradientMove {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* â‘  å…¨ä½“ã®æ çµ„ã¿ï¼ˆ.app-shellï¼‰ã®è¨­å®šã‚’æ¢ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ */
/* ã ã„ãŸã„55è¡Œç›®ã‚ãŸã‚Šã§ã™ */
.app-shell {
  max-width: 720px;
  margin: 0 auto;
  padding: 1.4rem 1.2rem 3.2rem;
  
  /* ğŸ‘‡ ã“ã®2è¡ŒãŒã‚ã‚‹ã‹ç¢ºèªã—ã¦ãã ã•ã„ */
  position: relative;
  z-index: 10;
}

/* â‘¡ ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€ç•ªä¸‹ã«ã‚ã‚‹ã€Œé›²ã®è¨­å®šã€ã‚’ã€ã“ã‚Œã«æ›¸ãæ›ãˆã¦ãã ã•ã„ */
/* =========================
   â˜ï¸ æ˜¼ã®ç™’ã—ï¼šæµ®éŠã™ã‚‹é›²
   ========================= */
.cloud-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* èƒŒæ™¯ã‚ˆã‚Šæ‰‹å‰ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚ˆã‚Šå¥¥ */
  overflow: hidden;
  opacity: 0;
  transition: opacity 2s ease;
}

body.theme-day .cloud-layer,
body.theme-morning .cloud-layer {
  opacity: 1;
}

.cloud {
  position: absolute;
  background-repeat: no-repeat;
  background-size: contain;
  
  /* é€æ˜èƒŒæ™¯ç”»åƒãªã®ã§é€šå¸¸è¡¨ç¤º */
  opacity: 0.85; 
  filter: blur(1px); /* è»½ãã¼ã‹ã—ã¦è‡ªç„¶ãªå°è±¡ã« */
}

/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãã®ã¾ã¾ */
@keyframes cloudFloat {
  0% { transform: translateX(-150px); }
  100% { transform: translateX(100vw); }
}


@media (max-width: 480px) {
  .app-shell {
    max-width: 100%;
    padding: 1.2rem 1rem 3rem;
  }
}

/* ãƒ˜ãƒƒãƒ€ãƒ¼ */
.app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.app-title {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.logo-face {
  width: 46px;
  height: 46px;
  border-radius: 16px;
  background: radial-gradient(circle at 35% 25%, #ffffff, #ffe3f3);
  box-shadow: 0 10px 22px rgba(255, 129, 176, 0.4);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 0.6rem;
  color: #384152;
  position: relative;
}

.logo-eyes {
  letter-spacing: 0.16em;
  margin-bottom: -0.1rem;
}

.logo-mouth {
  font-size: 0.8rem;
}

.title-text h1 {
  font-size: 1.35rem;
  margin: 0;
}

.subtitle {
  margin: 0.1rem 0 0;
  font-size: 0.95rem;
  color: var(--text-sub);
}

.now-time {
  font-size: 0.85rem;
  color: var(--text-sub);
  text-align: right;
}

/* --- Liquid Glass Cards (èƒŒæ™¯ãŒç¶ºéº—ã«é€ã‘ã‚‹è¨­å®š) --- */
.card {
  position: relative;
  /* èƒŒæ™¯è‰²ã‚’ã•ã‚‰ã«è–„ãã—ã¦ã€ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é€éã•ã›ã‚‹ */
  background: rgba(255, 255, 255, 0.15);
  
  border-radius: 22px;
  padding: 1.2rem 1.2rem 1.3rem;
  
  /* æ ç·šã‚‚æ§ãˆã‚ã« */
  border: 1px solid rgba(255, 255, 255, 0.35);
  
  box-shadow:
    0 12px 30px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
  
  backdrop-filter: blur(20px) saturate(120%);
  -webkit-backdrop-filter: blur(20px) saturate(120%);
  
  margin-bottom: 0.9rem;
  overflow: hidden;
}

.card::before {
  content: "";
  position: absolute;
  inset: 0;
  /* åå°„å…‰ã‚’å¼±ã‚ã¦ç™½é£›ã³ã‚’é˜²ã */
  background:
    radial-gradient(120% 80% at 10% 0%, rgba(255,255,255,0.4), rgba(255,255,255,0) 60%),
    linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0) 45%);
  opacity: 0.7;
  pointer-events: none;
}

.card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 22px;
  padding: 1px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.9),
    rgba(255,255,255,0.15) 40%,
    rgba(0,160,255,0.20) 70%,
    rgba(255,255,255,0.6)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
}

/* å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ  */
.field-group { margin-bottom: 0.75rem; }

.field-label {
  display: block;
  font-size: 0.95rem;
  margin-bottom: 0.5rem;
  color: var(--text-sub);
}

/* pill grid layout */
.pill-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.6rem;
}

.pill-grid--mood {
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 0.6rem;
}

.pill-button {
  flex: 0 0 auto;
  border-radius: var(--radius-pill);
  border: none;
  padding: 0.65rem 0.9rem;
  font-size: 0.95rem;
  background: #f2f5ff;
  color: var(--text-main);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.2rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
  transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease, color 0.12s ease;
}

.pill-button:active { transform: translateY(1px) scale(0.98); }

.pill-button.active {
  background: linear-gradient(135deg, var(--accent), var(--accent-strong));
  color: #fff;
  box-shadow: 0 3px 10px rgba(255,126,177,0.55);
}

.mood-pill { background: #f7f3ff; }

.mood-pill.active {
  background: linear-gradient(135deg, #ffd7ef, #fff1c3);
  color: #433444;
}

/* ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ */
textarea {
  width: 100%;
  border-radius: 14px;
  border: 1px solid #dde3f0;
  padding: 0.9rem 0.9rem;
  font-family: inherit;
  font-size: 1rem;
  resize: vertical;
  min-height: 140px;
  outline: none;
  background: rgba(255,255,255,0.9);
  transition: border-color 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
}

textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 1px rgba(255,126,165,0.45);
  background: #fff;
}

/* ãƒœã‚¿ãƒ³ */
.button-row {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.7rem;
  flex-wrap: wrap;
}

button { font-family: inherit; }

.primary-button {
  flex: 1;
  border-radius: 999px;
  border: none;
  padding: 0.9rem 1rem;
  font-size: 1.05rem;
  font-weight: 600;
  background: linear-gradient(135deg, #0b2a6f, #0aa7c6);
  color: #fff;
  cursor: pointer;
  box-shadow: 0 16px 34px rgba(10,70,170,0.5);
  transition: transform 0.12s ease, box-shadow 0.12s ease, filter 0.12s ease;
}

.primary-button:hover { filter: brightness(1.03); }

.primary-button:active,
.primary-button.saved {
  transform: translateY(1px) scale(0.98);
  box-shadow: 0 9px 18px rgba(255,126,177,0.6);
}

.outline-button {
  border-radius: 999px;
  border: 1px solid rgba(90,110,140,0.35);
  padding: 0.5rem 0.75rem;
  font-size: 0.8rem;
  background: rgba(255,255,255,0.9);
  cursor: pointer;
  color: var(--text-main);
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
}

.danger-button {
  border-color: rgba(243,107,127,0.6);
  color: var(--danger);
}

.outline-button.small {
  font-size: 0.75rem;
  padding: 0.4rem 0.6rem;
}

button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  box-shadow: none;
}

/* ãƒ¡ãƒ¢ä¸€è¦§ */
.entries-list {
  max-height: 320px;
  overflow-y: auto;
  padding-right: 0.1rem;
}

.entry-item {
  padding: 0.55rem 0.1rem;
  border-bottom: 1px dashed rgba(210,220,238,0.9);
}

.entry-item:last-child { border-bottom: none; }

.entry-meta {
  font-size: 0.9rem;
  color: var(--text-sub);
  margin-bottom: 0.1rem;
}

.entry-text {
  font-size: 1rem;
  line-height: 1.65;
  white-space: pre-wrap;
}

.empty-text {
  font-size: 0.9rem;
  color: var(--text-sub);
}

/* ãƒ’ãƒ³ãƒˆãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.hint-text { font-size: 0.9rem; color: var(--text-sub); }
.hint-text.small { font-size: 0.85rem; }

.wayne-message {
  font-size: 1rem;
  line-height: 1.5;
  margin: 0;
  padding: 0.8rem 0.9rem;
  border-radius: 14px;
  background: linear-gradient(135deg, #fff3fb, #f1f4ff);
  border: 1px dashed rgba(255,155,199,0.8);
  position: relative;
}

.wayne-message::before {
  content: "ğŸ’¬";
  position: absolute;
  left: -0.1rem;
  top: -0.9rem;
  font-size: 0.9rem;
}

.wayne-message.pop { animation: message-pop 0.4s ease-out; }

@keyframes message-pop {
  0%   { transform: translateY(4px); opacity: 0; }
  40%  { transform: translateY(-2px); opacity: 1; }
  100% { transform: translateY(0); opacity: 1; }
}

/* ã¡ã‚‡ã£ã¨ã—ãŸã‚·ã‚§ã‚¤ã‚¯ */
#categoryGroup.shake, #moodGroup.shake { animation: shake 0.18s ease; }

@keyframes shake {
  0%,100% { transform: translateX(0); }
  25%     { transform: translateX(-2px); }
  75%     { transform: translateX(2px); }
}

/* ãƒ•ãƒƒã‚¿ãƒ¼ */
.app-footer {
  margin-top: 0.6rem;
  text-align: center;
  font-size: 0.75rem;
  color: var(--text-sub);
}

/* =========================
   ğŸŒ…ğŸŒ“ æ™‚é–“å¸¯ãƒ†ãƒ¼ãƒï¼ˆèƒŒæ™¯ã®ç©ºæ°—ï¼‰
   ========================= */

/* Morning: æ˜ã‚‹ã‚ã‚„ã•ã—ã„å›ºå®šã‚°ãƒ©ãƒ‡ */
body.theme-morning {
  --bg-gradient: linear-gradient(135deg, #fff6d8, #dff7ff 40%, #ffe7f5 85%);
  animation: gradientMove 18s ease infinite;
}

/* Evening: å¤•æ–¹ã®ã‚„ã‚ã‚‰ã‹ã„æ¸©åº¦ */
body.theme-evening {
  --bg-gradient: linear-gradient(135deg, #ffe5d4, #e6e0ff 45%, #d9f7ff 85%);
  animation: gradientMove 18s ease infinite;
}

/* ğŸŒ Dayï¼šè‰²ã®å¤‰åŒ–ã‚’ãã£ãã‚Šã•ã›ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ */
body.theme-day {
  /* æŒ‡å®šã®æµã‚Œ:
    1. ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ (#3bb1ff)
    2. æ·¡ã„ãƒ–ãƒ«ãƒ¼ (#d4f4ff)
    3. ã‚°ãƒªãƒ¼ãƒ³ãŒã‹ã£ãŸãƒ–ãƒ«ãƒ¼ (#7affd6)
    4. æœç„¼ã‘ã®ã‚ˆã†ãªæ·¡ã„ã‚¤ã‚¨ãƒ­ãƒ¼ (#fff5cc)
    5. ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ã«æˆ»ã‚‹
  */
  background-image: linear-gradient(
    135deg,
    #3bb1ff 0%,    /* â‘  ãã£ãã‚Šã—ãŸã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ */
    #d4f4ff 25%,   /* â‘¡ ä¼‘æ†©ã®ã‚ˆã†ãªæ·¡ã„ãƒ–ãƒ«ãƒ¼ */
    #7affd6 50%,   /* â‘¢ çˆ½ã‚„ã‹ãªãƒŸãƒ³ãƒˆã‚°ãƒªãƒ¼ãƒ³ãƒ–ãƒ«ãƒ¼ */
    #fff5cc 75%,   /* â‘£ æœç„¼ã‘ã®å…‰ï¼ˆã‚¤ã‚¨ãƒ­ãƒ¼ï¼‰ */
    #3bb1ff 100%   /* â‘¤ æœ€åˆã«æˆ»ã‚‹ */
  );

  /* è‰²ã®å¤‰åŒ–ã‚’å¤§ããè¦‹ã›ã‚‹ãŸã‚ã‚µã‚¤ã‚ºã¯400% */
  background-size: 400% 400%;
  
  /* 28ç§’ã‹ã‘ã¦ã‚†ã£ãã‚Šä¸€å‘¨ */
  animation: dayGradient 28s ease infinite;
  
  /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®ã‚¬ã‚¿ã¤ãé˜²æ­¢ */
  background-attachment: fixed;
}

@keyframes dayGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
  /* 2. èƒŒæ™¯ã‚’ç”»é¢ã®4å€ã®å¤§ãã•ã«å¼•ãä¼¸ã°ã—ã¾ã™ */
  background-size: 400% 400%;

  /* 3. ä½ç½®ã ã‘ã‚’å‹•ã‹ã™ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®š */
  animation: dayGradient 30s ease infinite;
  
  /* å›ºå®šå¯¾ç­– */
  background-attachment: fixed;
}

/* ä»¥å‰ã®è¨˜è¿°ï¼ˆbackground: linear-gradient...ï¼‰ã¯å…¨ã¦æ¶ˆã—ã¦ã€ã“ã‚Œã ã‘ã«ã—ã¾ã™ */
@keyframes dayGradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* ğŸŒ™ Nightï¼šãƒ€ãƒ¼ã‚¯ã‚»ãƒ«ãƒªã‚¢ãƒ³ â†’ æ·±ã„å¤œ â†’ æœç„¼ã‘ */
body.theme-night {
  color-scheme: dark;

  /* è‰²ã®æµã‚Œ:
     1. ãƒ€ãƒ¼ã‚¯ã‚»ãƒ«ãƒªã‚¢ãƒ³ãƒ–ãƒ«ãƒ¼ (#0f4c75): æ·±ã„é’ç·‘
     2. æ¿ƒã„ãƒŠã‚¤ãƒˆãƒ–ãƒ«ãƒ¼ (#020b1a): ã»ã¼æ¼†é»’ã«è¿‘ã„é’
     3. ã†ã£ã™ã‚‰æ˜ã‚‹ã„æœç„¼ã‘è‰² (#8f7083): æš—ã‚ã®ãƒ¢ãƒ¼ãƒ´ãƒ”ãƒ³ã‚¯ï¼ˆçœ©ã—ã™ããªã„å¤œæ˜ã‘ï¼‰
     4. ãƒ€ãƒ¼ã‚¯ã‚»ãƒ«ãƒªã‚¢ãƒ³ãƒ–ãƒ«ãƒ¼ (#0f4c75): æœ€åˆã«æˆ»ã‚‹
  */
  background-image: linear-gradient(
    135deg,
    #0f4c75 0%,    /* â‘  ãƒ€ãƒ¼ã‚¯ã‚»ãƒ«ãƒªã‚¢ãƒ³ */
    #020b1a 40%,   /* â‘¡ æ·±ã„é—‡å¤œ */
    #8f7083 75%,   /* â‘¢ ã»ã®ã‹ãªæœç„¼ã‘ã®å…‰ */
    #0f4c75 100%   /* â‘£ å…ƒã®è‰²ã¸ */
  );

  /* æ˜¼ã¨åŒæ§˜ã«æ‹¡å¤§ã—ã¦å‹•ã‹ã™ */
  background-size: 400% 400%;
  animation: nightGradient 30s ease infinite;
  background-attachment: fixed;

  /* æ–‡å­—è‰²ã¯ç™½ç³»ã§è¦‹ã‚„ã™ã */
  --text-main: #e9f1ff;
  --text-sub: #b3c1d8;
  --card-border: rgba(255,255,255,0.08);
}

/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆä½ç½®ã‚’å‹•ã‹ã™ã ã‘ï¼‰ */
@keyframes nightGradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* å¤œã®ã‚«ãƒ¼ãƒ‰èª¿æ•´ï¼ˆâ€»ã“ã“ã¯å¤‰æ›´ãªã—ã§ã™ãŒã€å®‰å…¨ã®ãŸã‚å«ã‚ã¦ã„ã¾ã™ï¼‰ */
body.theme-night .card {
  background: rgba(10, 18, 34, 0.60);
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow:
    0 14px 34px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.08);
}

body.theme-night .card::before { opacity: 0.35; }

/* å¤œã¯pillã‚‚è½ã¡ç€ããƒˆãƒ¼ãƒ³ */
body.theme-night .pill-button {
  background: rgba(255,255,255,0.1);
  color: #e9f1ff;
}
body.theme-night .pill-button.active {
  background: linear-gradient(135deg, #2a5bd7, #0aa7c6);
}

/* å¤œãƒ¢ãƒ¼ãƒ‰æ™‚ï¼šã‚¦ã‚§ã‚¤ãƒ³ãƒ„å›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦‹ã‚„ã™ã• */
body.theme-night #messageSection .wayne-message {
  background: rgba(255, 255, 255, 0.08);
  color: #eaf2ff;
  border: 1px solid rgba(255,255,255,0.14);
}

/* =========================
   ğŸ‰ ç¥ç¦ã‚¢ãƒ‹ãƒ¡ï¼ˆæ˜Ÿãƒ»ç´™å¹é›ªï¼‰
   ========================= */
.celebrate-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 999;
}

.particle {
  position: absolute;
  font-size: 18px;
  opacity: 0;
  transform: translate3d(0,0,0) scale(0.8);
  animation: popFloat 900ms ease-out forwards;
  filter: drop-shadow(0 4px 6px rgba(0,0,0,0.15));
}

@keyframes popFloat {
  0%   { opacity: 0; transform: translateY(10px) scale(0.6) rotate(0deg); }
  20%  { opacity: 1; transform: translateY(0) scale(1.0) rotate(10deg); }
  100% { opacity: 0; transform: translateY(-80px) scale(1.1) rotate(35deg); }
}

/* =========================
   ğŸ«§ ãƒãƒ–ãƒ«ã‚¿ãƒƒãƒ—æ¼”å‡ºï¼ˆè‰²ã®èµ°ã‚Šï¼‹ã¶ã‚ã€œã‚“å½±éŸ¿ï¼‰
   ========================= */
.ripple-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 998;
}

.ripple {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 999px;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0.9;
  animation: rippleBurst 1200ms ease-out forwards;
  mix-blend-mode: screen;
  background: radial-gradient(circle,
    rgba(10,167,198,0.9),
    rgba(11,42,111,0.2) 60%,
    rgba(255,255,255,0) 75%);
}

@keyframes rippleBurst {
  0%   { transform: translate(-50%, -50%) scale(0); opacity: 0.9; }
  60%  { transform: translate(-50%, -50%) scale(18); opacity: 0.45; }
  100% { transform: translate(-50%, -50%) scale(26); opacity: 0; }
}

/* æµ®éŠãƒãƒ–ãƒ«ï¼ˆç™’ã—è¦ç´ ï¼‰ */
.floating-bubble {
  position: fixed;
  right: 1.2rem;
  bottom: 1.2rem;
  width: 52px;
  height: 52px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 20%, #ffffff, rgba(255, 255, 255, 0)),
    linear-gradient(135deg, #ff9fd0, #a8d9ff);
  box-shadow: 0 12px 26px rgba(0, 0, 0, 0.22);
  opacity: 0.85;
  animation: bubbleFloat 7s ease-in-out infinite;
  pointer-events: auto;
  z-index: 1000;
  touch-action: manipulation;
}

@keyframes bubbleFloat {
  0%   { transform: translate3d(0,0,0); }
  50%  { transform: translate3d(0,-8px,0); }
  100% { transform: translate3d(0,0,0); }
}

/* =========================
   ğŸŒŠ ç”»é¢ãƒ–ã‚©ãƒ¼ãƒ³æ³¢ã†ã¡
   ========================= */
.app-shell.wave-animate {
  animation: screenWave 900ms cubic-bezier(.2, .8, .2, 1);
  transform-origin: center top;
  filter: saturate(1.08);
}

@keyframes screenWave {
  0%   { transform: translateY(0) skewY(0deg) scale(1); }
  20%  { transform: translateY(-2px) skewY(0.4deg) scale(1.005); }
  45%  { transform: translateY(3px) skewY(-0.6deg) scale(0.995); }
  70%  { transform: translateY(-1px) skewY(0.3deg) scale(1.002); }
  100% { transform: translateY(0) skewY(0deg) scale(1); }
}


/* â‘¡ ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€ç•ªä¸‹ã«ã‚ã‚‹ã€Œé›²ã®è¨­å®šã€ã‚’ã€ã“ã‚Œã«æ›¸ãæ›ãˆã¦ãã ã•ã„ */
/* =========================
   â˜ï¸ æ˜¼ã®ç™’ã—ï¼šæµ®éŠã™ã‚‹é›²
   ========================= */
.cloud-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* èƒŒæ™¯ã‚ˆã‚Šæ‰‹å‰ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚ˆã‚Šå¥¥ */
  overflow: hidden;
  opacity: 0;
  transition: opacity 2s ease;
}

body.theme-day .cloud-layer,
body.theme-morning .cloud-layer {
  opacity: 1;
}

.cloud {
  position: absolute;
  background-repeat: no-repeat;
  background-size: contain;
  
  /* é€æ˜èƒŒæ™¯ç”»åƒãªã®ã§é€šå¸¸è¡¨ç¤º */
  opacity: 0.85;
  filter: blur(1px); /* è¼ªéƒ­ã‚’å°‘ã—ã¼ã‹ã™ã¨ã•ã‚‰ã«ãƒªã‚¢ãƒ«ã«ãªã‚Šã¾ã™ */
}

/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãã®ã¾ã¾ */
@keyframes cloudFloat {
  0% { transform: translateX(-150px); }
  100% { transform: translateX(100vw); }
}

/* =========================
   ğŸŒ  å¤œã®ç™’ã—ï¼šåå­—æ¶ã®æµæ˜Ÿ
   ========================= */
.star-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  opacity: 0;
  transition: opacity 2s ease;
}

/* å¤œã ã‘æ˜Ÿã‚’è¡¨ç¤º */
body.theme-night .star-layer {
  opacity: 1;
}

.shooting-star {
  position: absolute;
  /* æ˜Ÿã®ä¸­å¿ƒæ ¸ */
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 8px rgba(255, 255, 255, 0.8), 
              0 0 15px rgba(200, 220, 255, 0.4);
  opacity: 0;
}

/* åå­—æ¶ã®å…‰ï¼ˆç¸¦ï¼‰ */
.shooting-star::before {
  content: "";
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 2px;
  height: 24px; /* åå­—ã®é•·ã• */
  background: linear-gradient(to bottom, transparent, #fff, transparent);
  border-radius: 99px;
}

/* åå­—æ¶ã®å…‰ï¼ˆæ¨ªï¼‰ */
.shooting-star::after {
  content: "";
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 24px; /* åå­—ã®é•·ã• */
  height: 2px;
  background: linear-gradient(to right, transparent, #fff, transparent);
  border-radius: 99px;
}

/* å°¾ã£ã½ */
.star-tail {
  position: absolute;
  top: 50%; left: 50%;
  width: 80px; /* å°¾ã®é•·ã• */
  height: 1px;
  background: linear-gradient(to right, rgba(255,255,255,0.8), transparent);
  transform-origin: left center;
  /* æ–œã‚ã«èµ°ã‚‹ã®ã§å›è»¢ã•ã›ã‚‹ */
  transform: rotate(200deg) translate(0, -50%);
  opacity: 0.6;
}

/* æµã‚Œã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes shootStar {
  0% {
    transform: translate(0, 0) scale(0.5);
    opacity: 0;
  }
  10% {
    opacity: 1;
    transform: translate(-40px, 40px) scale(1);
  }
  100% {
    /* ç”»é¢å·¦ä¸‹ã¸å¤§ããç§»å‹• */
    transform: translate(-400px, 400px) scale(0.8);
    opacity: 0;
  }
}
